/* =========================================================
   SINGLE POSTS — FULL WIDTH CONTENT + GALLERY FIXES
   ========================================================= */

/*
  Blowfish sometimes wraps post content in `max-w-fit`
  (fit-content), which causes galleries to shrink if the
  text above is short. These rules force true full width.
*/
.article-content,
.article-content.max-w-prose,
.article-content .max-w-prose,
.article-content .max-w-fit {
  max-width: none !important;
  width: 100% !important;
}

/* Extra safety for nested wrappers used by Blowfish */
main:has(.article-content) .max-w-fit,
main:has(.article-content) .min-w-0.min-h-0.max-w-fit {
  max-width: none !important;
  width: 100% !important;
}

/* Ensure photo galleries always measure full container width */
main:has(.article-content) .justified-gallery,
main:has(.article-content) #gallery {
  width: 100% !important;
  max-width: none !important;
  display: block !important;
}


/* =========================================================
   HOME HERO — LARGER, MORE PROMINENT INTRO
   ========================================================= */

/*
  The first <article> on the home page is the Blowfish
  profile / hero block.
*/
#main-content > article:first-of-type {
  padding-top: 1.5rem;
  padding-bottom: 2.5rem;
}

/* Larger avatar */
#main-content > article:first-of-type img.h-36.w-36 {
  width: 11rem;
  height: 11rem;
}

/* Stronger title + subtitle */
#main-content > article:first-of-type h1 {
  font-size: 3.25rem;
  line-height: 1.05;
}

#main-content > article:first-of-type h2 {
  font-size: 1.5rem;
}


/* =========================================================
   HOME PAGE — RECENT POSTS (CHRONOLOGICAL GRID)
   ========================================================= */

/*
  IMPORTANT:
  We intentionally do NOT use masonry or CSS columns here.
  Infinite scroll + masonry breaks chronological order.

  This grid flows LEFT → RIGHT → NEXT ROW
  and preserves correct date order at all times.
*/
#post-list {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  grid-auto-flow: row !important;

  /* Kill any leftover masonry / column behavior */
  column-count: unset !important;
  columns: unset !important;
}

/* Mobile: single column */
@media (max-width: 767px) {
  #post-list {
    grid-template-columns: 1fr !important;
  }
}

/* Hide default Hugo pagination UI (infinite scroll replaces it) */
.pagination,
nav.pagination {
  display: none;
}


/* =========================================================
   CATEGORIES — SQUARISH BADGES + ACCENT COLORS + TOOLTIPS
   ========================================================= */

/*
  Categories are structural and primary.
  We give them:
  - squarish badge shape
  - accent color per category
  - icon
  - hover tooltip (CSS only)
*/

.article-taxonomies a[href^="/categories/"],
.taxonomies a[href^="/categories/"] {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;

  padding: 0.2rem 0.55rem;
  border-radius: 0.375rem; /* squarish, not pill */

  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 0.02em;

  border: 1px solid currentColor;
  background-color: color-mix(in srgb, currentColor 12%, transparent);

  text-decoration: none;
  line-height: 1.2;
}

/* Tooltip using title attribute */
.article-taxonomies a[href^="/categories/"]:hover::after {
  content: attr(title);
  position: absolute;
  bottom: 125%;
  left: 0;

  white-space: nowrap;
  font-size: 0.7rem;
  font-weight: 500;

  padding: 0.2rem 0.4rem;
  border-radius: 0.25rem;

  background: rgba(0, 0, 0, 0.75);
  color: #fff;
  opacity: 0.95;
  pointer-events: none;
  z-index: 10;
}

/* =====================
   Category icons + colors
   ===================== */

/* Travel */
a[href^="/categories/travel/"] {
  color: #0ea5e9; /* sky-500 */
}


/* Climb */
a[href^="/categories/climb/"] {
  color: #f97316; /* orange-500 */
}

/* Dive */
a[href^="/categories/dive/"] {
  color: #06b6d4; /* cyan-500 */
}

/* Bike */
a[href^="/categories/bike/"] {
  color: #22c55e; /* green-500 */
}

/* Ski */
a[href^="/categories/ski/"] {
  color: #6366f1; /* indigo-500 */
}


/* =========================================================
   TAGS — LIGHTWEIGHT, SECONDARY METADATA
   ========================================================= */

/*
  Tags are descriptive and many.
  Keep them quiet so they don’t compete with categories.
*/
.article-taxonomies a[href^="/tags/"],
.taxonomies a[href^="/tags/"] {
  display: inline-flex;
  align-items: center;

  padding: 0.1rem 0.45rem;
  border-radius: 0.25rem;

  border: 1px dashed rgba(115, 115, 115, 0.5);
  background-color: transparent;

  font-size: 0.75rem;
  font-weight: 500;
  opacity: 0.85;
}


/* =========================================================
   INFINITE SCROLL — LOAD MORE BUTTON SUPPORT
   ========================================================= */

/*
  Ensures the "Load more" button spans full grid width
  and doesn’t get trapped in a column.
*/
#load-more-wrapper {
  grid-column: 1 / -1;
}
